name: CI

on:
  push:
  pull_request:
  workflow_dispatch:


jobs:
  hello:
    runs-on: ubuntu-latest

    env:
      LAB_MESSAGE: ${{ vars.LAB_MESSAGE }}
      LAB_SECRET: ${{ secrets.LAB_SECRET }}

    steps:
      - uses: actions/checkout@v4

      - name: Show specific variables (safe)
        run: |
          export "LAB_MESSAGE=$LAB_MESSAGE"
          export "GITHUB_ACTOR=$GITHUB_ACTOR"
          export "GITHUB_REF=$GITHUB_REF"
          env

      - name: Attempt to print a secret (should be masked)
        run: |
          export "LAB_SECRET=$LAB_SECRET"
      - name: Try to list secrets (should be impossible)
        run: |
          export "${{ toJson(secrets) }}"

